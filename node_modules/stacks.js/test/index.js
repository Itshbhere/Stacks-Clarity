// import { Block, Text, Image, Stack, StacksRenderer, Margin } from "../stacks.js"

import { Block, Text, Image, Stack, StacksRenderer, Utils } from "http://127.0.0.1:5500/stacks.js"

// class View extends Block {
//     body = () => {
//         return new Stack("y",
//             new Stack("z",
//                 new Text("Hello there"),
//                 new Image("https://www.google.com/logos/doodles/2020/december-holidays-days-2-30-6753651837108830.5-s.png")
//             ),

//             new Stack("x",
//                 new Image("https://cdn-media-1.freecodecamp.org/images/g-kAkNulNHQGkMd9vst3XuTG5kvoJJ2IfVff")
//             ),

//             new Text("Hello")
//         ).spacing(Margin.size(40))
//     }
// }


// class View extends Block {
//     body = () => { 
//         return new Stack("y",
//             new Stack("z",
//                 new Text("hello there").link("https://www.google.com").border(5, "red").padding(10),
//                 new Image("https://cdn-media-1.freecodecamp.org/images/g-kAkNulNHQGkMd9vst3XuTG5kvoJJ2IfVff")
//             ).spacing(Margin.size(60)),

//             new Stack("x",
//                 new Text("hello"),
//                 new Text("Hello there")
//             ).spacing(Margin.size(100))
//         )
//     }
// }

// class Subview extends Block {
//     constructor(text) {
//         super();
//         this.text = text;
//     }
//     body = () => {
//         return new Text(this.text).link("https://www.google.com")
//     }
// }

// class View extends Block {
//     body = () => {
//         return new Stack("y",
//             new Subview("hello"),
//             new Subview("my"),
//             new Subview("nmame"),
//         );
//     }
// }

// class View extends Block {
//     states = {name:"hello"};
//     body = () => {
//         return new Stack("y",
//             new Text("Hello")
//                 .onclick(() => { this.states.name = "hee hee"; console.log(this.states.name) }),
//             new Text(this.states.name)
//         )
//     }
// }


// class View extends Block {

//     constructor(){
//         super();
//         this.states.hello = "Hello"
//     }

//     body = () => {
//         return new Stack("z",
//         new Text(this.states.hello)
//             .onclick(() => {
//                 this.states.hello = "agsgahsh"
//             })
//         )
//     }
// }

// class Top extends Block {

//     constructor(){
//         super();
//         this.states.hello = "Hello";
//         this.states["there"] = "tjere"
//     }

//     body = ()  => {
//         return new Stack("y",
//             new Text(this.states.hello)
//             .onclick(() => {
//                 this.states.hello = "agsgahsh"
//             }),

//             new Text("this.states.there")
//             .onclick(() => {
//                 this.states.there = "agsgahsh"
//             }),
//         )
//     }
// }

// class View extends Block {
//     constructor() {
//         super();
//         this.states.hello = "hello"
//     }

//     body = () => {
//         return new Text(this.states.hello)
//             .onclick(() => {
//                 if(this.states.hello == "hello")
//                     this.states.hello = "there"
//                 else
//                     this.states.hello = "hello"
//             })
//     }
// }

class SubSubView extends Block {
    constructor() {
        super();
        this.states.count = 0;
    }
    body = () => {
        return Text(this.states.count == 0 ? "Click me!" : "I have been clicked " + this.states.count + " times!")
            .onclick(() => {
                this.states.count++;
            })
    }
}

class View extends Block {

    ssv = new SubSubView();
    ssv1 = new SubSubView();

    constructor() {
        super();
    }

    body = () => {
        return Stack("y",
            this.ssv,
            this.ssv1
        )
    }
}

class TopView extends Block {
    constructor() {
        super();
    }
    body = () => {
        return new View()
    }
}

class ImageClicker extends Block {
    constructor() {
        super();
        this.states.count = 0;
    }

    body = () => {
        return new Stack("y",
            Image("./car.jpg")
                .setStyleAttribute("width", "20em")
                .onclick(() => {
                    this.states.count++;
                })
            ,
            Text(this.states.count == 0 ? "Click the image above!" : "You have clicked " + this.states.count + " times!")
        )
    }
}

class ProfileView extends Block {
    name = "";
    sport = "";

    constructor(name, sport) {
        super();
        this.name = name;
        this.sport = sport;
    }

    body = () => {
        return Stack("x",
            Image("./profile.png")
                .setStyleAttribute("width", "3em"),
            Text("⠀"),
            Stack("y",
                Text("⠀")
                    .setStyleAttribute("font-size", "2px"),
                Text(this.name),
                Text(this.sport)
                    .setStyleAttribute("font-size", "10px")
            ).margin(Utils.Margin.size(-10, "px"))
        )
    }
}

class ProfileList extends Block {
    constructor() {
        super();
        this.states.name = "Click";
        this.states.sport = "";
    }
    body = () => {
        return Stack("y",
            new ProfileView("Johnny", "Biking")
                .onclick(() => {
                    this.states.name = "Johnny";
                    this.states.sport = "Biking";
                })
            ,
            new ProfileView("Adam", "Running"),
            new ProfileView("Alex", "Swimming"),
            new ProfileView("Jimmy", "Biking"),
            new ProfileView("Noah", "Basketball"),

            new ProfileView(this.states.name, this.states.sport)
        ).margin(Utils.Margin.size(15, "px"))
    }
}

StacksRenderer.getInstance().render(new ProfileList());